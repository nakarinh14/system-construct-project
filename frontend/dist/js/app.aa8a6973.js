(function(e){function t(t){for(var a,o,i=t[0],l=t[1],u=t[2],c=0,m=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"0099ce97"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var u=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,r[1](u)}n[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"1a49":function(e,t,r){},"20ee":function(e,t,r){},5346:function(e,t,r){"use strict";var a=r("81ed"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("5f5b"),n=r("b1e0"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[this.$cookies.isKey("username")?r("b-container",{attrs:{fluid:""}},[r("b-row",{attrs:{"align-v":"center"}},[r("b-col"),r("b-col",[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},["admin"!==this.$cookies.get("role")?r("span",[r("BIconHouseFill",{staticClass:"icon-pad"}),e._v("Home")],1):r("span",[r("BIconGearFill",{staticClass:"icon-pad"}),e._v("Admin ")],1)]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[r("BIconInfoCircleFill",{staticClass:"icon-pad"}),e._v("About")],1),e._v(" | ")],1)]),r("b-col",[r("div",["student"===this.$cookies.get("role")?r("b-avatar",{attrs:{badge:"S","badge-variant":"info",size:"33px"}}):e._e(),"instructor"===this.$cookies.get("role")?r("b-avatar",{attrs:{badge:"I","badge-variant":"primary",size:"33px"}}):e._e(),"admin"===this.$cookies.get("role")?r("b-avatar",{attrs:{"badge-variant":"warning",size:"33px"},scopedSlots:e._u([{key:"badge",fn:function(){return[r("b-icon",{attrs:{icon:"star-fill",variant:"white"}})]},proxy:!0}],null,!1,400327966)}):e._e(),r("span",{staticStyle:{padding:"10px","font-size":"15px"}},[e._v("Logged in as "),r("strong",[e._v(e._s(this.$cookies.get("username")))]),e._v(" | "),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Logout")])])],1)])],1)],1):e._e(),r("router-view")],1)},o=[],i=r("bc3a"),l=r.n(i),u=(r("f9e3"),r("2dd8"),{name:"app",methods:{logout:function(){var e=this,t="http://localhost:80/api/auth/logout";l.a.post(t,{},{withCredentials:!0}).then((function(t){"success"===t.data.status&&(console.log("nice"),e.$cookies.remove("username"),e.$cookies.remove("firstname"),e.$cookies.remove("lastname"),e.$cookies.remove("role"),e.$router.push("/login"))})).catch((function(){console.log("logout REST called failed")}))}}}),c=u,d=(r("034f"),r("2877")),m=Object(d["a"])(c,s,o,!1,null,null,null),f=m.exports,p=(r("45fc"),r("d3b7"),r("2b0e")),b=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(e.component_name,{tag:"component"})},v=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.course?r("div",{staticClass:"home"},["AdminCourseTable"!==e.component_name?r("b",[e._v(e._s(this.$cookies.get("firstname"))+" "+e._s(this.$cookies.get("lastname"))+"'s Dashboard")]):e._e(),""!==e.requested_term.semester?r("h3",[e._v(e._s(e.requested_term.semester)+", "+e._s(e.requested_term.year))]):e._e(),r("b-container",{attrs:{fluid:""}},[r("b-row",{attrs:{"align-h":"start"}},[r("b-col",{attrs:{sm:"2"}},[r("b-form-select",{staticClass:"mt-3",attrs:{options:e.options,size:"sm"},model:{value:e.selected_term,callback:function(t){e.selected_term=t},expression:"selected_term"}})],1)],1)],1),r("BaseTable",{attrs:{data:e.course,tableComponent:e.component_name},on:{fetchData:e.fetchData}})],1):e._e()},y=[],_=(r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{staticStyle:{"margin-bottom":"20px"},attrs:{fluid:""}},[r("b-row",{attrs:{cols:"3"}},[r("b-col",{staticClass:"d-flex justify-content-start"},[r("div",[r("b",[e._v("Show")]),r("b-form-select",{staticStyle:{width:"65px"},attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),r("b",[e._v("entries")])],1)]),r("b-col",[r("b-input-group",{attrs:{size:"sm"}},[r("b-input-group-prepend",[r("span",{staticClass:"input-group-text"},[r("BIconSearch",{staticClass:"icon-bar"})],1)]),r("b-form-input",{staticClass:"search-bar",attrs:{placeholder:"Search",type:"search"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1)],1)],1)],1),r(e.tableComponent,{tag:"component",attrs:{data:e.data,busy:e.busy,searchFilter:e.searchFilter,currentPage:e.currentPage,perPage:e.perPage},on:{filterUpdated:e.updatePagination,fetchData:e.fetchData}}),r("b-container",{staticStyle:{"margin-top":"15px"},attrs:{fluid:""}},[r("b-row",[r("b-col"),r("b-col",[r("span",[e._v(e._s(e.currentPageCount))])]),r("b-col",[r("b-pagination",{staticClass:"justify-content-end",attrs:{"per-page":e.perPage,"total-rows":e.rows,"aria-controls":"my-table",size:"sm","prev-text":"Prev","next-text":"Next"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)}),k=[],w=(r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{attrs:{fluid:""}},[r("b-table",{attrs:{striped:"",bordered:"",hover:"",busy:e.busy,"head-variant":"dark",items:e.data,fields:e.fields,filter:e.searchFilter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center text-danger my-2"},[r("b-spinner",{staticClass:"align-middle"}),r("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"cell(infos)",fn:function(t){return[r("b-modal",{attrs:{scrollable:"",id:t.item.id+"-modal",size:"lg","ok-only":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" "+e._s(t.item.courseName)+" (Section "+e._s(t.item.section)+") ")]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Done ")]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.info)+" ")]),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.item.id+"-modal",expression:"row.item.id+'-modal'"}],attrs:{size:"sm",variant:"primary"}},[e._v(" Show Info ")])]}},{key:"cell(seatAvailable)",fn:function(t){return[e._v(" "+e._s(t.item.capacity-t.item.registered)+" ")]}}])})],1)],1)}),x=[],S={name:"StudentDashboard",props:["data","busy","searchFilter","currentPage","perPage"],data:function(){return{fields:[{key:"courseId",sortable:!0,label:"ID"},{key:"courseName",sortable:!0},{key:"division",sortable:!0},{key:"section",sortable:!0},{key:"instructorName",sortable:!0},{key:"capacity",sortable:!0},{key:"registered",sortable:!0},{key:"seatAvailable",sortable:!0},{key:"date"},{key:"infos",label:"Info"}],info:""}},methods:{onFiltered:function(e){this.$emit("filterUpdated",e.length)}}},C=S,F=Object(d["a"])(C,w,x,!1,null,null,null),P=F.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{attrs:{fluid:""}},[r("b-table",{attrs:{striped:"",bordered:"",hover:"","head-variant":"dark",items:e.data,fields:e.course_fields,filter:e.searchFilter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(infos)",fn:function(t){return[r("b-modal",{attrs:{id:t.item.id+"-modal",size:"lg"},on:{ok:function(r){return e.handleOk(t.item.id,t.item.courseId)}},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" "+e._s(t.item.courseName)+" (Section "+e._s(t.item.section)+") ")]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Update ")]},proxy:!0}],null,!0)},[r("b-form-textarea",{ref:t.item.id+"-textarea",attrs:{id:t.item.id+"-textarea",value:t.item.info,placeholder:"Enter something...",rows:"12","max-rows":"12"}})],1),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.item.id+"-modal",expression:"row.item.id+'-modal'"}],staticClass:"mr-2",attrs:{size:"sm"}},[r("BIconPencilSquare")],1)]}},{key:"cell(students)",fn:function(t){return[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"show-modal-"+t.item.id,expression:"'show-modal-'+row.item.id"}],staticClass:"mr-2",attrs:{size:"sm",id:"btn-student-"+t.item.id,variant:"primary"},on:{click:function(r){return e.showStudents(t.item.id)}}},[r("BIconPersonFill")],1),r("b-modal",{attrs:{id:"show-modal-"+t.item.id,size:"lg","ok-only":"",scrollable:""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Enrolled Students for "+e._s(t.item.courseName)+" (Section "+e._s(t.item.section)+") ")]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Done ")]},proxy:!0}],null,!0)},[r("b-table",{attrs:{bordered:"","head-variant":"dark",items:e.studentsGet,fields:e.students_fields,"sticky-header":"400px"},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.item.profile.title)+" "+e._s(t.item.profile.firstname)+" "+e._s(t.item.profile.lastname)+" ")]}}],null,!0)})],1)]}},{key:"cell(seatAvailable)",fn:function(t){return[e._v(" "+e._s(t.item.capacity-t.item.registered)+" ")]}}])})],1)],1)},T=[],$={name:"InstructorDashboard",props:["data","searchFilter","currentPage","perPage"],data:function(){return{course_fields:[{key:"courseId",sortable:!0,label:"ID"},{key:"courseName",sortable:!0},{key:"division",sortable:!0},{key:"section",sortable:!0},{key:"instructorName",sortable:!0,label:"Instructor"},{key:"capacity",sortable:!0},{key:"registered",sortable:!0},{key:"seatAvailable",sortable:!0,label:"Available"},{key:"date"},{key:"students",label:"Students"},{key:"infos",label:"Info"}],students_fields:[{key:"id",sortable:!0,label:"User ID"},{key:"username",sortable:!0},{key:"name",sortable:!0}],info:"",studentsGet:[]}},methods:{handleOk:function(e,t){var r=this.$refs[e+"-textarea"].$refs.input._value;this.postInfo(e,r,t)},postInfo:function(e,t,r){var a=this,n="http://localhost:80/api/dashboard/update";l.a.post(n,{info:t,courseId:parseInt(e)},{withCredentials:!0}).then((function(e){"success"===e.data.status?(a.$emit("fetchData"),console.log("post update success"),a.makeToast(r,!0)):console.log("post update not success")})).catch((function(){console.log("Dashboard post REST call failed."),a.makeToast(r,!1)}))},showStudents:function(e){var t=this;console.log(e);var r="http://localhost:80/api/dashboard/enrolled/"+e;l.a.get(r,{withCredentials:!0}).then((function(e){t.studentsGet=e.data})).catch((function(){console.log("Dashboard post REST call failed.")}))},makeToast:function(e,t){var r="Course Info Updated",a="Course info for ".concat(e," is successfully updated."),n="success";t||(r="Server Request Failed",a="Course info for ".concat(e," failed to update."),n="danger"),this.$bvToast.toast(a,{title:r,variant:n,autoHideDelay:3800,appendToast:!0})},onFiltered:function(e){this.$emit("filterUpdated",e.length)}}},D=$,O=Object(d["a"])(D,I,T,!1,null,null,null),q=O.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-modal",{ref:"assign-modal",attrs:{size:"xl",okOnly:""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[r("b",[e._v("Assigning Students For "+e._s(e.currentViewedCourse.courseCode))])]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Done ")]},proxy:!0}])},[r("b-container",[r("b-row",[r("b-col",[r("b-input-group",{attrs:{size:"sm"}},[r("b-input-group-prepend",[r("span",{staticClass:"input-group-text"},[r("BIconSearch",{staticClass:"icon-bar"})],1)]),r("b-form-input",{staticClass:"search-bar",attrs:{placeholder:"Search enrolled",type:"search"},model:{value:e.searchFilterE,callback:function(t){e.searchFilterE=t},expression:"searchFilterE"}})],1),r("b-table",{staticClass:"assign-table text-center",staticStyle:{"min-height":"400px"},attrs:{items:e.studentsGet,fields:e.students_fields_assign,filter:e.searchFilterE,busy:e.assignBusy,"sticky-header":"400px",small:""},scopedSlots:e._u([{key:"thead-top",fn:function(){return[r("b-tr",[r("b-th",{attrs:{colspan:"3",variant:"info"}},[e._v(" Enrolled Students ")])],1)]},proxy:!0},{key:"cell(fullname)",fn:function(t){return[e._v(" "+e._s(t.item.profile.firstname+" "+t.item.profile.lastname+" ("+t.item.username+")")+" ")]}},{key:"cell(remove)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.requestWithdraw(e.currentViewedCourse.courseId,e.currentViewedCourse.courseCode,t.item.username)}}},[r("BIconPersonDashFill",{staticClass:"icon-tmp"})],1)]}},{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center"},[r("b-spinner",{staticClass:"align-middle",staticStyle:{"margin-right":"7px"},attrs:{variant:"primary"}})],1)]},proxy:!0}])})],1),r("b-col",[r("b-input-group",{attrs:{size:"sm"}},[r("b-input-group-prepend",[r("span",{staticClass:"input-group-text"},[r("BIconSearch",{staticClass:"icon-bar"})],1)]),r("b-form-input",{staticClass:"search-bar",attrs:{placeholder:"Search unassigned",type:"search"},model:{value:e.searchFilterA,callback:function(t){e.searchFilterA=t},expression:"searchFilterA"}})],1),r("b-table",{staticClass:"assign-table text-center",staticStyle:{"min-height":"400px"},attrs:{items:e.unassigned_students,fields:e.students_fields_assign,filter:e.searchFilterA,busy:e.assignBusy,"sticky-header":"400px",small:""},scopedSlots:e._u([{key:"thead-top",fn:function(){return[r("b-tr",[r("b-th",{attrs:{colspan:"3",variant:"warning"}},[e._v(" Unassigned Students ")])],1)]},proxy:!0},{key:"cell(fullname)",fn:function(t){return[e._v(" "+e._s(t.item.profile.firstname+" "+t.item.profile.lastname+" ("+t.item.username+")")+" ")]}},{key:"cell(remove)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.requestAssign(e.currentViewedCourse.courseId,e.currentViewedCourse.courseCode,t.item.username)}}},[r("BIconPersonPlusFill",{staticClass:"icon-tmp"})],1)]}},{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center"},[r("b-spinner",{staticClass:"align-middle",staticStyle:{"margin-right":"7px"},attrs:{variant:"warning"}})],1)]},proxy:!0}])})],1)],1)],1)],1),r("b-table",{staticClass:"align-middle",attrs:{striped:"",bordered:"",hover:"","head-variant":"dark",items:e.data,fields:e.course_fields,filter:e.searchFilter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(infos)",fn:function(t){return[r("b-modal",{attrs:{id:t.item.id+"-modal",size:"lg"},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" "+e._s(t.item.courseName)+" (Section "+e._s(t.item.section)+") ")]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.info)+" ")]),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.item.id+"-modal",expression:"row.item.id+'-modal'"}],staticClass:"mr-2",attrs:{size:"sm"}},[e._v(" Show Info ")])]}},{key:"cell(seatAvailable)",fn:function(t){return[e._v(" "+e._s(t.item.capacity-t.item.registered)+" ")]}},{key:"cell(students)",fn:function(t){return[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"show-modal-"+t.item.id,expression:"'show-modal-'+row.item.id"}],staticClass:"mr-2",attrs:{size:"sm",id:"btn-student-"+t.item.id,variant:"primary"},on:{click:function(r){return e.getStudentFromCourseId(t.item.id)}}},[r("BIconPersonFill")],1),r("b-modal",{attrs:{id:"show-modal-"+t.item.id,size:"lg","no-stacking":"","ok-only":"",scrollable:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[r("b",[e._v("Enrolled Students in "+e._s(t.item.courseId)+" (Section "+e._s(t.item.section)+")")]),r("a",{staticStyle:{"padding-left":"15px"},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.showAssign(t.item.id,t.item.courseId)}}},[r("BIconPersonCheckFill"),e._v(" Add students to course ")],1)]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Done ")]},proxy:!0}],null,!0)},[r("b-table",{attrs:{bordered:"","head-variant":"dark",items:e.studentsGet,fields:e.students_fields,"sticky-header":"400px"},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.item.profile.title)+" "+e._s(t.item.profile.firstname)+" "+e._s(t.item.profile.lastname)+" ")]}}],null,!0)})],1)]}}])})],1)},E=[],j=(r("4de4"),r("caad"),r("2532"),{name:"AdminCourseTable",props:["data","busy","searchFilter","currentPage","perPage"],data:function(){return{course_fields:[{key:"courseId",sortable:!0,label:"ID"},{key:"courseName",sortable:!0},{key:"division",sortable:!0},{key:"section",sortable:!0},{key:"instructorName",sortable:!0,label:"Instructor"},{key:"capacity",sortable:!0},{key:"registered",sortable:!0},{key:"seatAvailable",sortable:!0,label:"Available"},{key:"date"},{key:"students",label:"Students"},{key:"infos",label:"Info"}],students_fields:[{key:"id",sortable:!0,label:"User ID"},{key:"username",sortable:!0},{key:"name",sortable:!0}],students_fields_assign:[{key:"id",sortable:!0,label:"ID"},{key:"fullname",sortable:!0},{key:"remove",label:""}],info:"",studentsGet:[],currentViewedCourse:{courseId:"",courseName:""},unassigned_students:null,searchFilterE:null,searchFilterA:null,enrolledId:null,spamProtected:!1,assignBusy:!1}},methods:{onFiltered:function(e){this.$emit("filterUpdated",e.length)},getStudentFromCourseId:function(e){var t=this;console.log(e);var r="http://localhost:80/api/dashboard/enrolled/"+e;l.a.get(r,{withCredentials:!0}).then((function(e){t.studentsGet=e.data,t.enrolledId=e.data.map((function(e){return e.id}))})).catch((function(){console.log("Dashboard post REST call failed.")}))},getAllStudents:function(){var e=this,t="http://localhost:80/api/admin/users";l.a.get(t,{withCredentials:!0}).then((function(t){t.data&&(e.unassigned_students=e.filterUser(t.data))})).catch((function(){console.log("Dashboard user get call failed.")})).finally((function(){return e.assignBusy=!1}))},showAssign:function(e,t){this.getAllStudents(),this.currentViewedCourse={courseId:e,courseCode:t},this.$refs["assign-modal"].show()},filterUser:function(e){var t=this;return e.filter((function(e){return"student"===e.role.role.toLowerCase()&&!t.enrolledId.includes(e.id)}))},requestAssign:function(e,t,r){var a=this;this.assignBusy=!0;var n="http://localhost:80/api/admin/courses/assign";l.a.post(n,{addCourseID:e,username:r},{withCredentials:!0}).then((function(t){t.data&&(a.getStudentFromCourseId(e),a.getAllStudents())})).catch((function(){a.createFailToast(),console.log("Dashboard user get call failed.")}))},requestWithdraw:function(e,t,r){var a=this;this.assignBusy=!0;var n="http://localhost:80/api/admin/users/remove/course";l.a.post(n,{removeCourseID:e,username:r},{withCredentials:!0}).then((function(t){t.data&&(a.getStudentFromCourseId(e),a.getAllStudents())})).catch((function(){a.createFailToast(),console.log("Dashboard user get call failed.")}))},makeToast:function(e,t,r){this.$bvToast.toast(t,{title:e,variant:r,autoHideDelay:1e3,appendToast:!1})},createFailToast:function(){this.makeToast("Server Request Failed","Server isn't able to make request. Please try again later","warning")}}}),N=j,U=(r("6f6f"),Object(d["a"])(N,A,E,!1,null,"8b2b7762",null)),V=U.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-table",{attrs:{striped:"",bordered:"","head-variant":"dark",items:e.data,fields:e.fields,filter:e.searchFilter,"current-page":e.currentPage,"per-page":e.perPage},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(firstname)",fn:function(t){return[e._v(" "+e._s(t.item.profile.firstname)+" ")]}},{key:"cell(lastname)",fn:function(t){return[e._v(" "+e._s(t.item.profile.lastname)+" ")]}},{key:"cell(title)",fn:function(t){return[e._v(" "+e._s(t.item.profile.title)+" ")]}},{key:"cell(role)",fn:function(t){return[r("b",{class:e.computeRoleColor(t.item.role.role)},[e._v(e._s(t.item.role.role))])]}},{key:"cell(remove)",fn:function(t){return[r("b-btn",{attrs:{disabled:e.$cookies.get("username")===t.item.username,size:"sm",variant:"warning"},on:{click:function(r){return e.removeUserRequest(t.item.username)}}},[r("BIconTrashFill")],1)]}},{key:"cell(courses)",fn:function(t){return[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"show-modal-"+t.item.id,expression:"'show-modal-'+row.item.id"}],staticClass:"mr-2",attrs:{disabled:"admin"===t.item.role.role.toLowerCase(),size:"sm",id:"btn-"+t.item.id,variant:"primary"},on:{click:function(r){e.view_id=t.item.id}}},[r("BIconSearch")],1),r("b-modal",{attrs:{id:"show-modal-"+t.item.id,size:"lg","ok-only":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return["student"===t.item.role.role.toLowerCase()?r("p",[e._v(" Enrolled Courses for "+e._s(t.item.profile.title+" "+t.item.profile.firstname+" "+t.item.profile.lastname)+" ")]):r("p",[e._v(" Instructed Courses for "+e._s(t.item.profile.title+" "+t.item.profile.firstname+" "+t.item.profile.lastname)+" ")])]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Done ")]},proxy:!0}],null,!0)},[r("b-table",{attrs:{bordered:"","head-variant":"dark",items:e.view_courses,fields:e.view_fields},scopedSlots:e._u([{key:"cell(termID)",fn:function(t){return[e._v(" "+e._s(t.item.term.id)+" ")]}},{key:"cell(termName)",fn:function(t){return[e._v(" "+e._s(t.item.term.semester)+", "+e._s(t.item.term.year)+" ")]}}],null,!0)})],1)]}}])})],1)},B=[],L={name:"AdminUserTable",props:["data","busy","searchFilter","currentPage","perPage"],data:function(){return{fields:[{key:"id",sortable:!0,label:"ID"},{key:"username",sortable:!0},{key:"title",sortable:!0},{key:"firstname",sortable:!0},{key:"lastname",sortable:!0},{key:"courses"},{key:"role",sortable:!0},{key:"remove",label:""}],view_fields:[{key:"courseId",sortable:!0},{key:"courseName",sortable:!0},{key:"section",sortable:!0},{key:"termID",sortable:!0},{key:"termName",sortable:!0}],view_id:null,view_courses:[]}},methods:{onFiltered:function(e){this.$emit("filterUpdated",e.length)},removeUserRequest:function(e){this.sendRemoveUserRequest(e)},sendRemoveUserRequest:function(e){var t=this,r="http://localhost:80/api/admin/remove/user";l.a.post(r,{username:e},{withCredentials:!0}).then((function(r){"success"===r.data.status&&t.makeToast("Remove user success","".concat(e," is removed from the database."),"info")})).catch((function(){t.makeToast("Server request failed","Something went wrong. Please try again later.","warning")})).finally((function(){t.$emit("fetchData")}))},makeToast:function(e,t,r){this.$bvToast.toast(t,{title:e,variant:r,autoHideDelay:2e3,appendToast:!1})},computeRoleColor:function(e){switch(e){case"ADMIN":return"text-warning";case"INSTRUCTOR":return"text-primary";case"STUDENT":return"text-info"}}},watch:{view_id:function(){var e=this,t="http://localhost:8080/api/admin/users/course/"+this.view_id;l.a.get(t,{withCredentials:!0}).then((function(t){t.data&&(e.view_courses=t.data)})).catch((function(){console.log("Get All user REST call failed.")}))}}},z=L,M=Object(d["a"])(z,R,B,!1,null,null,null),H=M.exports,G={name:"BaseTable",props:["data","tableComponent"],components:{StudentDashboard:P,InstructorDashboard:q,AdminCourseTable:V,AdminUserTable:H},data:function(){return{searchFilter:null,busy:!1,currentPage:1,perPage:10,rows:0,pageOptions:[10,25,40,100]}},watch:{data:function(){this.updatePagination(this.data.length)}},methods:{updatePagination:function(e){this.rows=e,this.currentPage=1},fetchData:function(){this.$emit("fetchData")}},computed:{currentPageCount:function(){var e=1+(this.currentPage-1)*this.perPage,t=Math.min(this.currentPage*this.perPage,this.rows);return 0===this.rows&&(e=0,t=0),console.log(e),"Showing ".concat(e," to ").concat(t," entries out of ").concat(this.rows)}}},J=G,W=Object(d["a"])(J,_,k,!1,null,"7bc8c7ac",null),Y=W.exports,K={name:"DashboardComponent",components:{BaseTable:Y},data:function(){return{component_name:"",selected_term:0,course:null,requested_term:{id:"",semester:"",year:""},showed_term:"",options:[],busy:!1}},watch:{selected_term:function(){this.fetchData()}},methods:{getTableComponent:function(e){switch(e){case"student":this.component_name="StudentDashboard";break;case"instructor":this.component_name="InstructorDashboard";break;case"admin":this.component_name="AdminCourseTable";break}},fetchData:function(){var e=this,t="http://localhost:80/api/dashboard";this.busy=!0,l.a.get(t,{params:{id:this.selected_term},withCredentials:!0}).then((function(t){t.data.role&&(e.requested_term=t.data.requestedTerm,e.course=t.data.courses,""===e.component_name&&(e.getTableComponent(t.data.role),e.selected_term=t.data.requestedTerm.id,e.options=t.data.termOptions.map((function(e){return{value:e.id,text:e.semester+", "+e.year}}))))})).catch((function(){console.log("Dashboard REST call failed.")}))}},created:function(){this.fetchData()}},Q=K,X=(r("c41b"),Object(d["a"])(Q,g,y,!1,null,null,null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Admin Page")]),r("hr",{staticStyle:{"max-width":"60%","margin-top":"40px","margin-bottom":"60px"}}),r("b-container",[r("b-row",[r("b-col",[r("b-card",{staticClass:"shadow rounded",staticStyle:{cursor:"pointer"},attrs:{header:"Edit Courses","header-text-variant":"white","header-tag":"header","header-bg-variant":"dark",title:"View and modifies courses."},on:{click:function(t){return e.switchPage("/admin/courses")}}})],1),r("b-col",[r("b-card",{staticClass:"shadow rounded",staticStyle:{cursor:"pointer"},attrs:{header:"Edit Users","header-text-variant":"white","header-tag":"header","header-bg-variant":"dark",title:"View and modifies user settings."},on:{click:function(t){return e.switchPage("/admin/users")}}})],1)],1)],1)],1)},te=[],re={name:"Setting",data:function(){return{setting_component:null}},methods:{switchPage:function(e){this.$router.push(e)}}},ae=re,ne=Object(d["a"])(ae,ee,te,!1,null,"77815bcf",null),se=ne.exports,oe={name:"Home",components:{DashboardComponent:Z,AdminSettingComponent:se},data:function(){return{component_name:null}},methods:{check_component:function(){switch(this.$cookies.get("role")){case"admin":this.component_name=se;break;case"instructor":case"student":this.component_name=Z;break;default:this.component_name=null}}},created:function(){this.check_component()}},ie=oe,le=Object(d["a"])(ie,h,v,!1,null,null,null),ue=le.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"form-container"}},[r("h1",{attrs:{id:"login-title"}},[e._v("Login")]),r("b-form",{on:{submit:e.login}},[r("b-container",[r("b-row",{staticClass:"justify-content-md-center label-row"},[r("label",[r("BIconPersonFill",{staticStyle:{"margin-right":"5px"}}),e._v("Username:")],1)]),r("b-row",{staticClass:"justify-content-md-center "},[r("b-form-input",{staticClass:"w-25",attrs:{id:"input-1",state:e.validate.validate,type:"text",required:"",placeholder:"uxxxxxxx or vxxxxxxx"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("b-row",{staticClass:"justify-content-md-center label-row"},[r("label",[r("BIconLockFill"),e._v(" Password:")],1)]),r("b-row",{staticClass:"justify-content-md-center"},[r("b-form-input",{staticClass:"w-25",attrs:{id:"input-2",state:e.validate.validate,type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("b-form-invalid-feedback",{attrs:{state:e.validate.validate}},[e._v(" "+e._s(e.validate.message)+" ")])],1),r("b-row",{staticClass:"justify-content-md-center label-row"},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)],1)],1)},de=[],me={name:"Login",data:function(){return{form:{validate:null,username:"",password:""},validate:{validate:null,message:""}}},methods:{validateTrigger:function(e,t){this.validate.validate=e,this.validate.message=t},login:function(e){var t=this;e.preventDefault(),this.validateTrigger(null,"");var r="http://localhost:80/api/auth/login";l.a.post(r,{username:this.form.username,password:this.form.password},{withCredentials:!0}).then((function(e){"success"===e.data.status?(t.$cookies.config(2100),t.$cookies.set("username",e.data.username),t.$cookies.set("firstname",e.data.firstname),t.$cookies.set("lastname",e.data.lastname),t.$cookies.set("role",e.data.role.toLowerCase()),t.$router.push("/")):t.validateTrigger(!1,"Authentication failed. Please check username and password.")})).catch((function(){t.validateTrigger(!1,"Login authentication request to the server failed."),console.log("Login REST called failed")}))}},created:function(){this.$cookies.remove("username"),this.$cookies.remove("firstname"),this.$cookies.remove("lastname"),this.$cookies.remove("role")}},fe=me,pe=(r("ed47"),Object(d["a"])(fe,ce,de,!1,null,"3e51f690",null)),be=pe.exports,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Users Settings")]),null!=e.users?r("b-container",{staticStyle:{"margin-bottom":"20px"}},[r("b-row",[r("b-col",[r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showModal(t)}}},[r("BIconPersonPlusFill"),e._v(" Add User ")],1)])],1)],1):e._e(),r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.passes;return[r("b-modal",{ref:"add-user-modal",on:{ok:function(t){return t.preventDefault(),a(e.handleAddUserOk)},cancel:e.clearForm},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Add new user ")]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Submit ")]},proxy:!0}],null,!0)},[r("b-form",[r("ValidationProvider",{attrs:{rules:"alpha_num|required",name:"Username"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-1",label:"Username:","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",type:"text",state:!a[0]&&null,placeholder:"Enter username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"alpha_num|required",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-pw",label:"Password:","label-for":"input-pw"}},[r("b-form-input",{attrs:{id:"input-pw",type:"password",state:!a[0]&&null,placeholder:"Enter password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-title",label:"Title:","label-for":"input-title"}},[r("b-form-input",{attrs:{id:"input-title",type:"text",state:!a[0]&&null,placeholder:"Enter title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"alpha|required",name:"Firstname"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-fn",label:"Firstname:","label-for":"input-fn"}},[r("b-form-input",{attrs:{id:"input-fn",state:!a[0]&&null,placeholder:"Enter firstname"},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"alpha|required",name:"Lastname"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-ln",label:"Lastname:","label-for":"input-ln"}},[r("b-form-input",{attrs:{id:"input-ln",state:!a[0]&&null,placeholder:"Enter lastname"},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Role"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-3",label:"Role:","label-for":"input-r"}},[r("b-form-select",{attrs:{id:"input-r",options:e.roleOptions,state:!a[0]&&null},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)})],1)],1)]}}])}),r("BaseTable",{attrs:{data:e.users,tableComponent:"AdminUserTable"},on:{fetchData:e.fetchData}})],1)},ve=[],ge=r("7bb1"),ye={name:"AddUserVue",data:function(){return{users:null,toggle:!1,form:{username:"",password:"",title:"",firstname:"",lastname:"",role:null},roleOptions:[{text:"Please select a role",value:null,disabled:!1},{text:"Student",value:"Student",disabled:!1},{text:"Instructor",value:"Instructor",disabled:!1},{text:"Admin",value:"Admin",disabled:!1}]}},components:{BaseTable:Y,ValidationObserver:ge["a"],ValidationProvider:ge["b"]},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this,t="http://localhost:80/api/admin/users";l.a.get(t,{withCredentials:!0}).then((function(t){t.data&&(e.users=t.data)})).catch((function(){console.log("Dashboard user get call failed.")}))},showModal:function(){this.$refs["add-user-modal"].show()},requestSent:function(e){"success"===e.variant&&this.fetchData(),this.makeToast(e),this.clearForm()},makeToast:function(e){this.$bvToast.toast(e.msg,{title:e.title,variant:e.variant,autoHideDelay:4400,appendToast:!0})},clearForm:function(){var e=this;this.form={username:"",password:"",title:"",firstname:"",lastname:"",role:null},requestAnimationFrame((function(){e.$refs.observer.reset()}))},addUserRequest:function(){var e=this;console.log("enter sendRequest");var t="http://localhost:80/api/admin/add/user/";l.a.post(t,this.form,{withCredentials:!0}).then((function(t){"success"===t.data.status?(console.log(t.data),e.requestSent({variant:"success",title:"Add user success",msg:"New user, ".concat(e.form.username," (").concat(e.form.firstname," ").concat(e.form.lastname,"), is successfully added to the database.")})):e.requestSent({variant:"danger",title:"Add user failed",msg:"The server isn't able to add user. Please use a different username"})})).catch((function(){e.requestSent({variant:"warning",title:"Server request failed",msg:"Server may be temporally unavailable. Please try again later."})})).finally((function(){return e.clearForm()}))},handleAddUserOk:function(){this.$refs["add-user-modal"].hide(),this.addUserRequest()}}},_e=ye,ke=(r("96e8"),Object(d["a"])(_e,he,ve,!1,null,"935c3c62",null)),we=ke.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Courses Settings")]),r("div",{staticStyle:{"margin-bottom":"30px"}},[r("a",{staticStyle:{"padding-right":"15px"},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showModalTerm(t)}}},[r("BIconPlusSquareFill"),e._v(" Add new term ")],1),r("a",{staticStyle:{"padding-left":"15px"},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showModalCourse(t)}}},[r("BIconPlusSquareFill"),e._v(" Add new course ")],1)]),r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.passes;return[r("b-modal",{ref:"add-course-modal",on:{ok:function(t){return t.preventDefault(),a(e.handleCourseFormOk)},cancel:function(t){return e.clearForm(e.courseForm)}},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Add new course ")]},proxy:!0}],null,!0)},[r("b-container",[r("b-form",[r("ValidationProvider",{attrs:{rules:"alpha_num|required",name:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-id",label:"Course Id:","label-for":"input-id"}},[r("b-form-input",{attrs:{id:"input-id",type:"text",state:!a[0]&&null,placeholder:"Enter Course ID"},model:{value:e.courseForm.courseId,callback:function(t){e.$set(e.courseForm,"courseId",t)},expression:"courseForm.courseId"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Name"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-name",label:"Course Name:","label-for":"input-name"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",state:!a[0]&&null,placeholder:"Enter Course Name"},model:{value:e.courseForm.courseName,callback:function(t){e.$set(e.courseForm,"courseName",t)},expression:"courseForm.courseName"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"alpha|required",name:"Division"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-division",label:"Course Division:","label-for":"input-division"}},[r("b-form-input",{attrs:{id:"input-division",type:"text",state:!a[0]&&null,placeholder:"Enter Course Division"},model:{value:e.courseForm.division,callback:function(t){e.$set(e.courseForm,"division",t)},expression:"courseForm.division"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"numeric|required",name:"Section"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-section",label:"Course Section:","label-for":"input-section"}},[r("b-form-input",{attrs:{id:"input-section",type:"text",state:!a[0]&&null,placeholder:"Enter Course Section"},model:{value:e.courseForm.section,callback:function(t){e.$set(e.courseForm,"section",t)},expression:"courseForm.section"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("b-form-group",{attrs:{id:"input-group-instructor",label:"Instructor:","label-for":"input-instructor"}},[r("b-form-select",{attrs:{options:e.allInstructor,id:"input-instructor","value-field":"id","text-field":"username"},model:{value:e.courseForm.instructorId,callback:function(t){e.$set(e.courseForm,"instructorId",t)},expression:"courseForm.instructorId"}})],1),r("ValidationProvider",{attrs:{rules:"required",name:"Term"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-termcourse",label:"Term:","label-for":"input-term-c"}},[r("b-form-select",{attrs:{id:"input-term-c","value-field":"id","text-field":"name",options:e.termOptions,state:!a[0]&&null},model:{value:e.courseForm.termId,callback:function(t){e.$set(e.courseForm,"termId",t)},expression:"courseForm.termId"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"numeric|required",name:"Capacity"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-capacity",label:"Course Capacity:","label-for":"input-capacity"}},[r("b-form-input",{attrs:{id:"input-capacity",type:"text",state:!a[0]&&null,placeholder:"Enter Capacity"},model:{value:e.courseForm.capacity,callback:function(t){e.$set(e.courseForm,"capacity",t)},expression:"courseForm.capacity"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"numeric|required",name:"Registered"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-registered",label:"Course Registered:","label-for":"input-registered"}},[r("b-form-input",{attrs:{id:"input-registered",type:"text",state:!a[0]&&null,placeholder:"Enter Registered Students"},model:{value:e.courseForm.registered,callback:function(t){e.$set(e.courseForm,"registered",t)},expression:"courseForm.registered"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-date",label:"Course Date:","label-for":"input-date"}},[r("b-form-input",{attrs:{id:"input-date",type:"text",state:!a[0]&&null,placeholder:"Enter Date"},model:{value:e.courseForm.date,callback:function(t){e.$set(e.courseForm,"date",t)},expression:"courseForm.date"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)})],1)],1)],1)]}}])}),r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.passes;return[r("b-modal",{ref:"add-term-modal",on:{ok:function(t){return t.preventDefault(),a(e.handleTermFormOk)},cancel:function(t){return e.clearForm(e.termForm)}},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Add new term ")]},proxy:!0},{key:"modal-ok",fn:function(){return[e._v(" Submit ")]},proxy:!0}],null,!0)},[r("b-form",[r("ValidationProvider",{attrs:{rules:"required",name:"Term"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-term",label:"Term period:","label-for":"input-term"}},[r("b-form-input",{attrs:{id:"input-term",type:"text",state:!a[0]&&null,placeholder:"Enter term period  (e.g. 'Summer', 'Term I', 'Term II', etc.)"},model:{value:e.termForm.semester,callback:function(t){e.$set(e.termForm,"semester",t)},expression:"termForm.semester"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Year"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var a=t.errors;return[r("b-form-group",{attrs:{id:"input-group-year",label:"Year period:","label-for":"input-year"}},[r("b-form-input",{attrs:{id:"input-year",type:"text",state:!a[0]&&null,placeholder:"Enter year period  (e.g. '2020-2021', '2019-2020', etc.)"},model:{value:e.termForm.year,callback:function(t){e.$set(e.termForm,"year",t)},expression:"termForm.year"}}),r("b-form-invalid-feedback",[e._v(e._s(a[0]))])],1)]}}],null,!0)})],1)],1)]}}])}),r("DashboardComponent")],1)},Se=[],Ce={name:"EditCourseVue",data:function(){return{termForm:{term:"",semester:""},courseForm:{courseId:"",courseName:"",division:"",section:"",capacity:"",registered:"",date:"",instructorId:"",termId:""},allInstructor:[],termOptions:[]}},components:{DashboardComponent:Z,ValidationObserver:ge["a"],ValidationProvider:ge["b"]},methods:{showModalCourse:function(){this.getTerm(),this.getInstructor(),this.$refs["add-course-modal"].show()},showModalTerm:function(){this.$refs["add-term-modal"].show()},getInstructor:function(){var e=this,t="http://localhost:80/api/admin/users/instructor";l.a.get(t,{withCredentials:!0}).then((function(t){t.data&&(e.allInstructor=t.data)})).catch((function(){return console.log("error getting instructor")}))},getTerm:function(){var e=this,t="http://localhost:80/api/admin/get/term";l.a.get(t,{withCredentials:!0}).then((function(t){t.data&&(e.termOptions=t.data.map((function(e){return{id:e.id,name:"".concat(e.semester,", ").concat(e.year)}})))})).catch((function(){return console.log("error getting instructor")}))},sendCourseRequest:function(){var e=this,t="http://localhost:80/api/admin/add/course";l.a.post(t,this.courseForm,{withCredentials:!0}).then((function(t){t.data.status?e.makeToast("Add user success","New stuff added","success"):e.makeToast("Add user failed","The server isn't able to add course. Please try again later","danger")})).catch((function(){return e.makeToast("Server request failed","Server may be temporally unavailable. Please try again later.","warning")})).finally((function(){e.clearForm(e.courseForm),e.$emit("fetchData")}))},sendTermRequest:function(){var e=this,t="http://localhost:80/api/admin/add/term";l.a.post(t,this.termForm,{withCredentials:!0}).then((function(t){t.data.status?e.makeToast("Add term success","Term, ".concat(e.termForm.term," ").concat(e.termForm.year," is successfully added to the database."),"success"):e.makeToast("Add term failed","The server isn't able to add term. Please try again later","danger")})).catch((function(){return e.makeToast("Server request failed","Server may be temporally unavailable. Please try again later.","warning")})).finally((function(){return e.clearForm(e.termForm)}))},handleCourseFormOk:function(){this.$refs["add-course-modal"].hide(),this.sendCourseRequest()},handleTermFormOk:function(){this.$refs["add-term-modal"].hide(),this.sendTermRequest()},clearForm:function(e){var t=this;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]="");requestAnimationFrame((function(){t.$refs.observer.reset()}))},makeToast:function(e,t,r){this.$bvToast.toast(t,{title:e,variant:r,autoHideDelay:1e3,appendToast:!1})}}},Fe=Ce,Pe=(r("5346"),Object(d["a"])(Fe,xe,Se,!1,null,"007eb9fd",null)),Ie=Pe.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})},$e=[],De={name:"PageNotFound",created:function(){this.$router.push("/")}},Oe=De,qe=Object(d["a"])(Oe,Te,$e,!1,null,null,null),Ae=qe.exports;p["default"].use(b["a"]);var Ee=[{path:"/",name:"Home",component:ue,meta:{title:"Home | Learning Management System",requiresAuth:!0}},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"84ba"))},meta:{title:"About | Learning Management System"}},{path:"/login",name:"Login",component:be,meta:{title:"Login | Learning Management System"}},{path:"/admin/courses",name:"Courses",component:Ie,meta:{title:"Course Settings | Learning Management System",requiresAuth:!0,adminOnly:!0}},{path:"/admin/users",name:"Users",component:we,meta:{title:"User Settings | Learning Management System",requiresAuth:!0,adminOnly:!0}},{path:"*",component:Ae}],je=new b["a"]({mode:"history",base:"/",routes:Ee});je.beforeEach((function(e,t,r){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var a="http://localhost:80/api/auth/validate";l.a.get(a,{withCredentials:!0}).then((function(t){"success"===t.data.status?(p["default"].$cookies.config(2100),e.matched.some((function(e){return e.meta.adminOnly}))?"admin"===p["default"].$cookies.get("role")?r():r({name:"Home"}):r()):(console.log("not validate"),r({name:"Login"}))})).catch((function(){console.log("Server request failed"),r({name:"Login"})}))}else r()})),je.afterEach((function(e){p["default"].nextTick((function(){document.title=e.meta.title}))}));var Ne=je,Ue=r("2b27"),Ve=r.n(Ue),Re=r("5530"),Be=r("4c93");Object(ge["c"])("required",Object(Re["a"])(Object(Re["a"])({},Be["d"]),{},{message:"This field is required"})),Object(ge["c"])("alpha_num",Object(Re["a"])(Object(Re["a"])({},Be["b"]),{},{message:"No whitespaces or punctuations allowed"})),Object(ge["c"])("alpha",Object(Re["a"])(Object(Re["a"])({},Be["a"]),{},{message:"Only alphabets characters are allowed"})),Object(ge["c"])("numeric",Object(Re["a"])(Object(Re["a"])({},Be["c"]),{},{message:"Only numerical values allowed"})),p["default"].use(a["a"]),p["default"].use(n["a"]),p["default"].use(Ve.a),p["default"].use(a["a"]),p["default"].use(n["a"]),p["default"].config.productionTip=!1,new p["default"]({router:Ne,render:function(e){return e(f)}}).$mount("#app")},"6f6f":function(e,t,r){"use strict";var a=r("c029"),n=r.n(a);n.a},"81ed":function(e,t,r){},"85ec":function(e,t,r){},"96e8":function(e,t,r){"use strict";var a=r("20ee"),n=r.n(a);n.a},c029:function(e,t,r){},c41b:function(e,t,r){"use strict";var a=r("e281"),n=r.n(a);n.a},e281:function(e,t,r){},ed47:function(e,t,r){"use strict";var a=r("1a49"),n=r.n(a);n.a}});
//# sourceMappingURL=app.aa8a6973.js.map